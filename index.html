<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Copy Image</title>
</head>
<body>
  <!-- Heading for the page -->
  <h3>Copy Image to Clipboard (works only for png image)</h3>

  <!-- Image to be copied -->
  <img id="img" src="./images/image.png" width="200">
  <br>

  <!-- Button to trigger the copy action -->
  <button id="copyBtn">Copy Image</button>

  <script>
    // Add a click event listener to the button
    document.getElementById('copyBtn').onclick = async () => {
      try {
        // Fetch the image from the provided URL
        const response = await fetch('./images/image.png');

        // Convert the fetched image into a blob (binary large object)
        const blob = await response.blob();

        // Use the Clipboard API to copy the image blob to the clipboard
        await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);

        // Notify the user that the image has been copied successfully
        alert('Image copied!');
      } catch {
        // Handle errors (e.g., unsupported browser, HTTPS requirement)
        alert('Failed to copy. Ensure HTTPS/localhost.');
      }
    };
  </script>
</body>
</html>
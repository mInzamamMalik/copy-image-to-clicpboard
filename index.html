<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copy Image</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Navigation Bar -->
    <nav>
        <div>Copy Image to Clipboard</div>
        <ul>
            <li><a href="./index.html">see sample that works only on PNG images</a></li>
            <li><a href="./convert.html">see sample that works for All Images</a></li>
        </ul>
    </nav>

    <!-- Heading for the page -->
    <h3>Copy Image to Clipboard (works only for png image)</h3>

    <!-- Image Card -->
    <div class="card">
        <h4>PNG</h4>
        <img id="img" src="./images/image.png" alt="PNG Image">
        <br>
        <button id="copyBtn">üìã Copy Image</button>
    </div>

    <!-- Information Card -->
    <div class="info-card">
        <h4>Test Results</h4>
        <ul>
            <li>MacBook (iOS 26) with Google Chrome: <span class="success">Working</span></li>
            <li>Android device with latest Google Chrome: <span class="success">Working</span></li>
            <li>iOS 26 with Google Chrome: <span class="failure">Not Working</span></li>
            <li>iOS Safari: <span class="failure">Not Working</span></li>
        </ul>
    </div>

    <script>
        // Event listener for the PNG image copy button
        document.getElementById('copyBtn').onclick = async () => {
            try {
                // Fetch the PNG image from the server
                const response = await fetch('./images/image.png');

                // Convert the fetched image into a blob (binary large object)
                const blob = await response.blob();

                // Use the Clipboard API to copy the image blob to the clipboard
                await navigator.clipboard.write([new ClipboardItem({ [blob.type]: blob })]);

                // Notify the user of success
                alert('‚úÖ Image copied to clipboard!');
            } catch {
                // Handle errors (e.g., unsupported browser, HTTPS requirement)
                alert('‚ùå Failed to copy. Ensure HTTPS/localhost.');
            }
        };
    </script>
</body>

</html>